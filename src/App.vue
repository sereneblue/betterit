<template>
  <div id="app">
    <NavBar />
    <router-view :key="$route.fullPath" />
  </div>
</template>

<script type="text/javascript">
  export default {
    watch: {
      $route (to, from){
        this.$store.dispatch('clearState');

        if (to.name == "subreddit") {
          this.$router.push({ name: to.name, params: to.params });
        } else if (to.name == "thread") {
          this.$router.push({ name: to.name, params: to.params });
        }
      }
    } 
  }
</script>

<style lang="scss">
	* {
		margin: 0;
		padding: 0;
	}

  body {
    background-color: lightgrey;
    font-family: 'Open Sans', sans-serif;
    font-size: 16px;
    font-weight: normal;
  }

  code {
    font-family: 'Source Code Pro';
    background: rgba(238, 238, 238, 0.8) none repeat scroll 0% 0%;
    color: rgb(255, 0, 109);
    margin: 10px 0px;
    overflow: auto;
    max-width: 100%;
  }

  pre {
    background-color: rgba(0,0,0,0.1);
    padding: 10px;
    margin: 10px 0px;

    & > code {
      background: none;
      color: black;
    }
  }

  #app > div {
    margin: 0 auto;
    width: 80%;
  }
</style>
